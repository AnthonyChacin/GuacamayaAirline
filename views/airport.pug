extends base
block content
  .container.pt-4
    h2.text-center Aeropuertos
    .row.mt-5
      .col-12
        table.table.bg-white
          thead
            tr.tr.bg-dark.text-white
              //th(scope='col') ID
              th(scope='col') CodioIATA
              th(scope='col') Ciudad
              th(scope='col') Pais
              th(scope='col')
              th(scope='col')
          tbody
          - for (var i = 0; i < airports.length; i++)
            tr
              //th(scope='row') #{airports[i].idAirport}
              td #{airports[i].codigoIATA}
              td #{airports[i].ciudad}
              td #{airports[i].pais}
              td
                form(action=`show/${airports[i].id}`,method="POST")
                  button.btn.btn-outline-dark(type='submit') Detalle
              td
                form(action=`delete/${airports[i].id}`,method="POST")
                  button.btn.btn-outline-danger(type='submit') Eliminar
    h2.text-center Pistas
    .row.mt-5
      .col-12
        table.table.bg-white
          thead
            tr.tr.bg-dark.text-white
              //th(scope='col') ID
              th(scope='col') Aeropuerto
              th(scope='col') distancia
              th(scope='col') Cantidad de pistas
              th(scope='col')
              th(scope='col')
          tbody
          - for (var i = 0; i < pistas.length; i++)
            tr
              //th(scope='row') #{airports[i].idAirport}
              - for (var j = 0; j < airports.length; j++)
                - if (airports[j].id == pistas[i].idAirport && airports[j].activo == 1)
                  td #{airports[j].codigoIATA}
                  td #{pistas[i].distancia}
                  td #{pistas[i].cantPistas}
                  td
                    form(action=`delete/pista`,method="POST")
                      button.btn.btn-outline-danger(type='submit') Eliminar
        
        div.row
          div.col-6
            h4.mt-5 Registrar Aeropuerto
            div.card.bg-dark
              div.card-body.text-white
                form(action='create/' method="POST")
                  .form-group
                    label(for='codigoIATA') CodigoIATA
                    input#codigoIATA.form-control(type='text' aria-describedby='codigoIATA' placeholder='CodigoIATA' name='codigoIATA')
                  .form-group
                    label(for='ciudad') Ciudad
                    input#ciudad.form-control(type='text' placeholder='Ciudad' name='ciudad')
                  .form-group
                    label(for='pais') Pais
                    input#pais.form-control(type='text' placeholder='Pais' name='pais')
                  button.btn.btn-danger(type='submit') Registrar
          div.col-6
            h4.mt-5 Agregar pista
            div.card.bg-dark
              div.card-body.text-white
                form(action='agregarPista/' method="POST")
                  .form-group
                    label(for='idAirport') Aeropuerto
                    select#idAirport.form-control(type='select' placeholder='Aeropuerto' name='idAirport').custom-select
                      option(value="") ...
                      - for (var i = 0; i < airports.length; i++)
                        - if (airports[i].activo == 1)
                          option(value=`${airports[i].id}`) #{airports[i].ciudad}, #{airports[i].pais}
                  .form-group
                    label(for='distancia') Distancia
                    input#distancia.form-control(type='number' min="0" placeholder='0' name='distancia')
                  .form-group
                    label(for='cantPistas') Cantidad de pistas
                    input#cantPistas.form-control(type='number' min="1" placeholder='1' name='cantPistas')
                  button.btn.btn-warning(type='submit') Agregar