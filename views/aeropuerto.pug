extends base
block content
  .container.pt-4
    - if (!aeropuertosUpdate && !pistasUpdate)
      h2.text-center Aeropuertos
      .row.mt-5
        .col-12
          table.table.bg-white
            thead
              tr.tr.bg-dark.text-white
                th(scope='col') CodioIATA
                th(scope='col') Ciudad
                th(scope='col') Pais
                th(scope='col') Zona Horaria
                th(scope='col')
                th(scope='col')
            tbody
            - for (var i = 0; i < aeropuertos.length; i++)
              tr
                th(scope='row') #{aeropuertos[i].CodigoIATA}
                td #{aeropuertos[i].Ciudad}
                td #{aeropuertos[i].Pais}
                - if(aeropuertos[i].ZonaHoraria == -11)
                  td UTC -11
                - if(aeropuertos[i].ZonaHoraria == -10)
                  td UTC -10
                - if(aeropuertos[i].ZonaHoraria == -9.30)
                  td UTC -9:30
                - if(aeropuertos[i].ZonaHoraria == -9)
                  td UTC -9
                - if(aeropuertos[i].ZonaHoraria == -8)
                  td UTC -8
                - if(aeropuertos[i].ZonaHoraria == -7)
                  td UTC -7
                - if(aeropuertos[i].ZonaHoraria == -6)
                  td UTC -6
                - if(aeropuertos[i].ZonaHoraria == -5)
                  td UTC -5
                - if(aeropuertos[i].ZonaHoraria == -4.30)
                  td UTC -4:30
                - if(aeropuertos[i].ZonaHoraria == -4)
                  td UTC -4
                - if(aeropuertos[i].ZonaHoraria == -3.30)
                  td UTC -3:30
                - if(aeropuertos[i].ZonaHoraria == -3)
                  td UTC -3
                - if(aeropuertos[i].ZonaHoraria == -2)
                  td UTC -2
                - if(aeropuertos[i].ZonaHoraria == -1)
                  td UTC -1
                - if(aeropuertos[i].ZonaHoraria == 0)
                  td UTC
                - if(aeropuertos[i].ZonaHoraria == 1)
                  td UTC +1
                - if(aeropuertos[i].ZonaHoraria == 2)
                  td UTC +2
                - if(aeropuertos[i].ZonaHoraria == 3)
                  td UTC +3
                - if(aeropuertos[i].ZonaHoraria == 3.30)
                  td UTC +3:30
                - if(aeropuertos[i].ZonaHoraria == 4)
                  td UTC +4
                - if(aeropuertos[i].ZonaHoraria == 4.30)
                  td UTC +4:30
                - if(aeropuertos[i].ZonaHoraria == 5)
                  td UTC +5
                - if(aeropuertos[i].ZonaHoraria == 5.30)
                  td UTC +5:30
                - if(aeropuertos[i].ZonaHoraria == 5.45)
                  td UTC +5:45
                - if(aeropuertos[i].ZonaHoraria == 6)
                  td UTC +6
                - if(aeropuertos[i].ZonaHoraria == 6.30)
                  td UTC +6:30
                - if(aeropuertos[i].ZonaHoraria == 7)
                  td UTC +7
                - if(aeropuertos[i].ZonaHoraria == 8)
                  td UTC +8
                - if(aeropuertos[i].ZonaHoraria == 9)
                  td UTC +9
                - if(aeropuertos[i].ZonaHoraria == 9.30)
                  td UTC +9:30
                - if(aeropuertos[i].ZonaHoraria == 10)
                  td UTC +10
                - if(aeropuertos[i].ZonaHoraria == 10.30)
                  td UTC +10:30
                - if(aeropuertos[i].ZonaHoraria == 11)
                  td UTC +11
                - if(aeropuertos[i].ZonaHoraria == 11.30)
                  td UTC +11:30
                - if(aeropuertos[i].ZonaHoraria == 12)
                  td UTC +12
                - if(aeropuertos[i].ZonaHoraria == 12.45)
                  td UTC +12:45
                - if(aeropuertos[i].ZonaHoraria == 13)
                  td UTC +13
                - if(aeropuertos[i].ZonaHoraria == 14)
                  td UTC +14
                td
                  form(action=`show/${aeropuertos[i].CodigoIATA}`,method="GET")
                    button.btn.btn-outline-dark(type='submit') Modificar
                td
                  form(action=`delete/${aeropuertos[i].CodigoIATA}`,method="POST")
                    button.btn.btn-outline-danger(type='submit') Eliminar


    - if(aeropuertosUpdate)
      h4.mt-5 Modificar Aeropuerto
      div.card.bg-dark
        div.card-body.text-white
          form(action= `update/${aeropuertosUpdate[0].CodigoIATA}` method="POST")
            .form-group
              label(for='CodigoIATA') CodigoIATA
              input#CodigoIATA.form-control(type='text' value=`${aeropuertosUpdate[0].CodigoIATA}` aria-describedby='CodigoIATA' placeholder='CodigoIATA' name='CodigoIATA')
            .form-group
              label(for='Ciudad') Ciudad
              input#Ciudad.form-control(type='text' value=`${aeropuertosUpdate[0].Ciudad}` placeholder='Ciudad' name='Ciudad')
            .form-group
              label(for='Pais') Pais
              input#Pais.form-control(type='text' value=`${aeropuertosUpdate[0].Pais}` placeholder='Pais' name='Pais')
            .form-group
              label(for='ZonaHoraria') Zona Horaria
              select#ZonaHoraria.form-control(type='select' name='ZonaHoraria' required).custom-select
                option(value="-11" selected=(aeropuertosUpdate[0].ZonaHoraria == -11)) UTC -11
                option(value="-10" selected=(aeropuertosUpdate[0].ZonaHoraria == -10)) UTC -10
                option(value="-9.30" selected=(aeropuertosUpdate[0].ZonaHoraria == -9.30)) UTC -9:30
                option(value="-9" selected=(aeropuertosUpdate[0].ZonaHoraria == -9)) UTC -9
                option(value="-8" selected=(aeropuertosUpdate[0].ZonaHoraria == -8)) UTC -8
                option(value="-7" selected=(aeropuertosUpdate[0].ZonaHoraria == -7)) UTC -7
                option(value="-6" selected=(aeropuertosUpdate[0].ZonaHoraria == -6)) UTC -6
                option(value="-5" selected=(aeropuertosUpdate[0].ZonaHoraria == -5)) UTC -5
                option(value="-4.30" selected=(aeropuertosUpdate[0].ZonaHoraria == -4.30)) UTC -4:30
                option(value="-4" selected=(aeropuertosUpdate[0].ZonaHoraria == -4)) UTC -4
                option(value="-3.30" selected=(aeropuertosUpdate[0].ZonaHoraria == -3.30)) UTC -3:30
                option(value="-3" selected=(aeropuertosUpdate[0].ZonaHoraria == -3)) UTC -3
                option(value="-2" selected=(aeropuertosUpdate[0].ZonaHoraria == -2)) UTC -2
                option(value="-1" selected=(aeropuertosUpdate[0].ZonaHoraria == -1)) UTC -1
                option(value="0" selected=(aeropuertosUpdate[0].ZonaHoraria == 0)) UTC
                option(value="1" selected=(aeropuertosUpdate[0].ZonaHoraria == 1)) UTC +1
                option(value="2" selected=(aeropuertosUpdate[0].ZonaHoraria == 2)) UTC +2
                option(value="3" selected=(aeropuertosUpdate[0].ZonaHoraria == 3)) UTC +3
                option(value="3.30" selected=(aeropuertosUpdate[0].ZonaHoraria == 3.30)) UTC +3:30
                option(value="4" selected=(aeropuertosUpdate[0].ZonaHoraria == 4)) UTC +4
                option(value="4.30" selected=(aeropuertosUpdate[0].ZonaHoraria == 4.30)) UTC +4:30
                option(value="5" selected=(aeropuertosUpdate[0].ZonaHoraria == 5)) UTC +5
                option(value="5.30" selected=(aeropuertosUpdate[0].ZonaHoraria == 5.30)) UTC +5:30
                option(value="5.45" selected=(aeropuertosUpdate[0].ZonaHoraria == 5.45)) UTC +5:45
                option(value="6" selected=(aeropuertosUpdate[0].ZonaHoraria == 6)) UTC +6
                option(value="7" selected=(aeropuertosUpdate[0].ZonaHoraria == 7)) UTC +7
                option(value="8" selected=(aeropuertosUpdate[0].ZonaHoraria == 8)) UTC +8
                option(value="9" selected=(aeropuertosUpdate[0].ZonaHoraria == 9)) UTC +9
                option(value="9.30" selected=(aeropuertosUpdate[0].ZonaHoraria == 9.30)) UTC +9:30
                option(value="10" selected=(aeropuertosUpdate[0].ZonaHoraria == 10)) UTC +10
                option(value="10.30" selected=(aeropuertosUpdate[0].ZonaHoraria == 10.30)) UTC +10:30
                option(value="11" selected=(aeropuertosUpdate[0].ZonaHoraria == 11)) UTC +11
                option(value="11.30" selected=(aeropuertosUpdate[0].ZonaHoraria == 11.30)) UTC +11:30
                option(value="12" selected=(aeropuertosUpdate[0].ZonaHoraria == 12)) UTC +12
                option(value="12.45" selected=(aeropuertosUpdate[0].ZonaHoraria == 12.45)) UTC +12:45
                option(value="13" selected=(aeropuertosUpdate[0].ZonaHoraria == 13)) UTC +13
                option(value="14" selected=(aeropuertosUpdate[0].ZonaHoraria == 14)) UTC +14  
            button.btn.btn-danger(type='submit') Modificar  


    - if(pistasUpdate)
      h4.mt-5 Modificar Pista
      div.card.bg-dark
        div.card-body.text-white
          form(action= `update/:${pistasUpdate[0].CodigoIATA}:${pistasUpdate[0].Nombre}` method="POST")
            .form-group
              label(for='CodigoIATA') Aeropuerto
              select#CodigoIATA.form-control(type='select' placeholder='Aeropuerto' name='CodigoIATA' required).custom-select
                - for (var i = 0; i < aeropuertos.length; i++)
                  - if (aeropuertos[i].Activo == 1)
                    option(value=`${aeropuertos[i].CodigoIATA}` selected=(aeropuertos[i].CodigoIATA == pistasUpdate[0].CodigoIATA)) #{aeropuertos[i].CodigoIATA}, #{aeropuertos[i].Ciudad}, #{aeropuertos[i].Pais} 
            .form-group
              label(for='Nombre') Nombre
              input#Nombre.form-control(type='text' value=`${pistasUpdate[0].Nombre}` placeholder='Nombre de pista' name='Nombre' required)
            .form-group
              label(for='Distancia') Distancia
              input#Distancia.form-control(type='number' value=`${pistasUpdate[0].Distancia}` min="0" placeholder='0' name='Distancia' required) 
            button.btn.btn-danger(type='submit') Modificar                 
    - if (!aeropuertosUpdate && !pistasUpdate)              
      h2.text-center Pistas
      .row.mt-5
        .col-12
          table.table.bg-white
            thead
              tr.tr.bg-dark.text-white
                th(scope='col') Aeropuerto
                th(scope='col') Nombre
                th(scope='col') Distancia
                th(scope='col')
                th(scope='col')
            tbody
            - for (var i = 0; i < pistas.length; i++)
              tr
                - for (var j = 0; j < aeropuertos.length; j++)
                  - if (aeropuertos[j].CodigoIATA == pistas[i].CodigoIATA && aeropuertos[j].Activo == 1)
                    
                    th(scope='row') #{aeropuertos[j].CodigoIATA}
                    th(scope='row') #{pistas[i].Nombre}
                    td #{pistas[i].Distancia}
                    td
                      form(action=`show/pista/:${pistas[i].CodigoIATA}:${pistas[i].Nombre}`,method="GET")
                        button.btn.btn-outline-dark(type='submit') Modificar
                    td
                      form(action=`delete/pista/:${pistas[i].CodigoIATA}:${pistas[i].Nombre}`,method="POST")
                        button.btn.btn-outline-danger(type='submit') Eliminar
                 
      - if (!aeropuertosUpdate && !pistasUpdate)
        div.row
          div.col-6
            h4.mt-5 Registrar Aeropuerto
            div.card.bg-dark
              div.card-body.text-white
                form(action='create/' method="POST")
                  .form-group
                    label(for='CodigoIATA') CodigoIATA
                    input#CodigoIATA.form-control(type='text' minlength="3" maxlength="3" aria-describedby='CodigoIATA' placeholder="CodigoIATA" name='CodigoIATA' required onkeyup="javascript:this.value=this.value.toUpperCase();")
                  .form-group
                    label(for='Ciudad') Ciudad
                    input#Ciudad.form-control(type='text' placeholder='Ciudad' name='Ciudad' required)
                  .form-group
                    label(for='Pais') Pais
                    input#Pais.form-control(type='text' placeholder='Pais' name='Pais' required)
                  .form-group
                    label(for='ZonaHoraria') Zona Horaria
                    select#ZonaHoraria.form-control(type='select' name='ZonaHoraria' required).custom-select
                      option(value="-11") UTC -11
                      option(value="-10") UTC -10
                      option(value="-9.30") UTC -9:30
                      option(value="-9") UTC -9
                      option(value="-8") UTC -8
                      option(value="-7") UTC -7
                      option(value="-6") UTC -6
                      option(value="-5") UTC -5
                      option(value="-4.30") UTC -4:30
                      option(value="-4") UTC -4
                      option(value="-3.30") UTC -3:30
                      option(value="-3") UTC -3
                      option(value="-2") UTC -2
                      option(value="-1") UTC -1
                      option(value="0" selected) UTC
                      option(value="1") UTC +1
                      option(value="2") UTC +2
                      option(value="3") UTC +3
                      option(value="3.30") UTC +3:30
                      option(value="4") UTC +4
                      option(value="4.30") UTC +4:30
                      option(value="5") UTC +5
                      option(value="5.30") UTC +5:30
                      option(value="5.45") UTC +5:45
                      option(value="6") UTC +6
                      option(value="7") UTC +7
                      option(value="8") UTC +8
                      option(value="9") UTC +9
                      option(value="9.30") UTC +9:30
                      option(value="10") UTC +10
                      option(value="10.30") UTC +10:30
                      option(value="11") UTC +11
                      option(value="11.30") UTC +11:30
                      option(value="12") UTC +12
                      option(value="12.45") UTC +12:45
                      option(value="13") UTC +13
                      option(value="14") UTC +14
                  button.btn.btn-danger(type='submit') Registrar
          div.col-6
            h4.mt-5 Agregar pista
            div.card.bg-dark
              div.card-body.text-white
                form(action='agregarPista/' method="POST")
                  .form-group
                    label(for='CodigoIATA') Aeropuerto
                    select#CodigoIATA.form-control(type='select' placeholder='Aeropuerto' name='CodigoIATA' required).custom-select
                      option(value="") ...
                      - for (var i = 0; i < aeropuertos.length; i++)
                        - if (aeropuertos[i].Activo == 1)
                          option(value=`${aeropuertos[i].CodigoIATA}`) #{aeropuertos[i].CodigoIATA}, #{aeropuertos[i].Ciudad}, #{aeropuertos[i].Pais}
                  .form-group
                    label(for='Nombre') Nombre
                    input#Nombre.form-control(type='text' placeholder='Nombre de pista' name='Nombre' required)
                  .form-group
                    label(for='Distancia') Distancia
                    input#Distancia.form-control(type='number' min="0" placeholder='0' name='Distancia' required)
                  button.btn.btn-warning(type='submit') Agregar